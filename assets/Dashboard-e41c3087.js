import{d as g,m as b,_ as u,o as r,c,a as t,b as w,t as p,e as $,F as h,r as x,w as v,f as _,g as m}from"./index-2b41ac5a.js";const y=g("productsStroe",{state:()=>({products:[{id:1,title:"好吃的餅乾01",imgUrl:"https://images.unsplash.com/photo-1597733153203-a54d0fbc47de?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1090&q=80",price:120},{id:2,title:"好吃的餅乾02",imgUrl:"https://images.unsplash.com/photo-1597895139322-0a1ef77b3c30?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",price:360},{id:3,title:"好吃的餅乾03",imgUrl:"https://images.unsplash.com/photo-1618923850107-d1a234d7a73a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80",price:600},{id:4,title:"好吃的餅乾04",imgUrl:"https://images.unsplash.com/photo-1559622214-f8a9850965bb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765&q=80",price:960},{id:5,title:"好吃的餅乾05",imgUrl:"https://images.unsplash.com/photo-1548848221-0c2e497ed557?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1169&q=80",price:1200}]}),getters:{sortProducts:({products:o})=>o.sort((a,s)=>a.price-s.price)}}),f=g("cart",{state:()=>({cart:[]}),actions:{addToCart(o,a=1){const s=this.cart.find(n=>n.productId===o);s?s.qty+=a:this.cart.push({id:new Date().getTime(),productId:o,qty:a}),console.log(this.cart)},removeCartItem(o){const a=this.cart.findIndex(s=>s.id===o);this.cart.splice(a,1)},selectCartQty(o,a){const s=this.cart.find(n=>n.id===o);s.qty=a.target.value*1}},getters:{cartList:({cart:o})=>{const{products:a}=y(),s=o.map(i=>{const l=a.find(e=>e.id===i.productId);return{...i,product:l,subtotal:l.price*i.qty}}),n=s.reduce((i,l)=>i+l.subtotal,0);return{carts:s,total:n}}}}),H={data(){return{text:"這是一段文字"}},computed:{...b(f,["cart"])}},C={class:"navbar bg-light"},B={class:"container-fluid"},D=t("span",{class:"navbar-brand mb-0 h1"},"好吃吃餅乾店",-1),G={type:"button",class:"btn"},q={class:"badge rounded-pill bg-danger text-white"};function V(o,a,s,n,i,l){return r(),c("nav",C,[t("div",B,[D,t("button",G,[w("購物車 "),t("span",q,p(o.cart.length),1)])])])}const k=u(H,[["render",V]]);const U={data(){return{text:"這是一段文字"}},methods:{...$(f,["removeCartItem","selectCartQty"])},computed:{...b(f,["cartList"])}},A={class:"bg-light my-4 p-4"},j={key:0},W={key:1,class:"table align-middle"},Y=["onClick"],I={width:"100"},L=["src"],S=["value","onChange"],T=["value"],N={class:"text-end"},P={colspan:"5",class:"text-end"};function Q(o,a,s,n,i,l){return r(),c("div",A,[o.cartList.carts.length?(r(),c("table",W,[t("tbody",null,[(r(!0),c(h,null,x(o.cartList.carts,e=>(r(),c("tr",{key:e.id},[t("td",null,[t("a",{href:"#",class:"text-dark",onClick:v(d=>o.removeCartItem(e.id),["prevent"])},"x",8,Y)]),t("td",I,[t("img",{src:e.product.imgUrl,class:"table-images",alt:""},null,8,L)]),t("td",null,p(e.product.title),1),t("td",null,[t("select",{name:"",id:"",class:"form-select",value:e.qty,onChange:d=>o.selectCartQty(e.id,d)},[(r(),c(h,null,x(20,d=>t("option",{value:d,key:d},p(d),9,T)),64))],40,S)]),t("td",N," $"+p(e.subtotal),1)]))),128))]),t("tfoot",null,[t("tr",null,[t("td",P," 總金額 NT$ "+p(o.cartList.total),1)])])])):(r(),c("div",j,"購物車沒有任何品項"))])}const F=u(U,[["render",Q],["__scopeId","data-v-651cf6ad"]]);const E={data(){return{products:[{id:1,title:"好吃的餅乾01",imgUrl:"https://images.unsplash.com/photo-1597733153203-a54d0fbc47de?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1090&q=80",price:120},{id:2,title:"好吃的餅乾02",imgUrl:"https://images.unsplash.com/photo-1597895139322-0a1ef77b3c30?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",price:360},{id:3,title:"好吃的餅乾03",imgUrl:"https://images.unsplash.com/photo-1618923850107-d1a234d7a73a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80",price:600},{id:4,title:"好吃的餅乾04",imgUrl:"https://images.unsplash.com/photo-1559622214-f8a9850965bb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765&q=80",price:960},{id:5,title:"好吃的餅乾05",imgUrl:"https://images.unsplash.com/photo-1548848221-0c2e497ed557?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1169&q=80",price:1200}]}},methods:{...$(f,["addToCart"])},computed:{...b(y,["sortProducts"])}},z={class:"row row-cols-3 my-4 g-4"},J={class:"card"},K=["src"],O={class:"card-body"},R={class:"card-title"},X={class:"float-end"},Z=["onClick"];function tt(o,a,s,n,i,l){return r(),c("div",z,[(r(!0),c(h,null,x(o.sortProducts,e=>(r(),c("div",{class:"col",key:e.id},[t("div",J,[t("img",{src:e.imgUrl,class:"card-img-top",alt:""},null,8,K),t("div",O,[t("h6",R,[w(p(e.title)+" ",1),t("span",X,"$"+p(e.price),1)]),t("a",{href:"#",class:"btn btn-outline-primary w-100",onClick:v(d=>o.addToCart(e.id),["prevent"])},"加入購物車",8,Z)])])]))),128))])}const ot=u(E,[["render",tt],["__scopeId","data-v-6ecaee1a"]]),et={components:{CartComponent:F,NavbarComponent:k,ProductsComponent:ot}},st={class:"container"};function at(o,a,s,n,i,l){const e=_("navbar-component"),d=_("cart-component"),M=_("products-component");return r(),c("div",st,[m(e),m(d),m(M)])}const ct=u(et,[["render",at]]);export{ct as default};
